# 캐시 키 설계
**ID:** 202509214_캐시키설계
**생성일:** 2025-09-21
**태그:** #캐시 #설계패턴

## 핵심 개념

캐시 키 설계는 캐시 시스템의 성능과 효율성에 직접적인 영향을 미치는 중요한 요소다. 잘 설계된 캐시 키는 데이터를 빠르게 찾을 수 있게 하고, 충돌을 최소화하며, 관리 및 디버깅을 용이하게 한다.

## 설계 원칙

### 1. 명확하고 일관된 네이밍

```
user:{userId}:profile
product:{productId}:details
order:{orderId}:items
```

### 2. 계층적 구조 활용

```
search:category:{categoryId}:page:{pageNum}
api:v1:users:{userId}:preferences
session:{sessionId}:cart:items
```

### 3. 네임스페이스 분리

- 서로 다른 도메인의 데이터는 명확히 구분
- 버전별로 키 공간 분리 (api:v1, api:v2)
- 환경별 키 구분 (prod:, dev:, test:)

## 실제 적용 사례

### 복합 조건 검색
```
search:products:category:electronics:brand:samsung:page:1
search:users:location:seoul:age:20-30:active:true
```

### 연관 데이터 그룹화
```
user:123:profile
user:123:settings
user:123:notifications
```

## 주의사항

- **키 길이 제한**: Redis의 경우 키 길이가 성능에 영향
- **특수문자 회피**: 콜론(:), 공백 등 일관된 구분자 사용
- **대소문자 일관성**: 전체적으로 일관된 케이스 적용

## 관련 개념

- [[202509213_Look-Aside캐시패턴]] - 캐시 키가 사용되는 기본 패턴
- [[202509217_캐시네임스페이스관리]] - 키 충돌 방지 및 관리 전략
- [[202509218_캐시성능최적화]] - 키 설계가 성능에 미치는 영향

## 결론

효율적인 캐시 키 설계는 단순히 고유한 식별자를 만드는 것을 넘어서, 시스템의 확장성과 유지보수성을 고려한 전략적 접근이 필요하다.