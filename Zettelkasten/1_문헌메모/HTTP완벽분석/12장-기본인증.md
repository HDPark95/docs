# 12장 - 기본 인증

## 12.1 개요
HTTP 기본 인증은 사용자명과 비밀번호로 클라이언트를 인증하는 가장 단순한 메커니즘이다.

## 12.2 동작 원리

### 인증 흐름
1. 클라이언트가 보호된 리소스 요청
2. 서버가 401 Unauthorized + WWW-Authenticate 헤더 응답
3. 클라이언트가 Authorization 헤더에 자격증명 포함하여 재요청
4. 서버가 검증 후 리소스 제공

### 핵심 헤더
```http
# 서버 → 클라이언트
WWW-Authenticate: Basic realm="Private Area"

# 클라이언트 → 서버
Authorization: Basic dXNlcjpwYXNzd29yZA==
```

## 12.3 Realm (보호 영역)
- 보호된 리소스들의 그룹 이름
- 동일한 realm은 같은 자격증명 공유
- 사용자에게 접근 영역 안내

## 12.4 Base64 인코딩
- "username:password"를 Base64로 인코딩
- 암호화가 아닌 단순 인코딩 (디코딩 가능)
- 예: `admin:1234` → `YWRtaW46MTIzNA==`

## 12.5 프록시 인증
- 407 Proxy Authentication Required 사용
- Proxy-Authenticate / Proxy-Authorization 헤더
- 웹 서버 인증과 동일한 메커니즘

## 12.6 보안 문제점

### 주요 취약점
- Base64는 쉽게 디코딩 가능 (평문 전송)
- 재전송 공격에 취약
- 중간자 공격으로 자격증명 탈취 가능
- 로그아웃 메커니즘 없음

### 보안 대책
- **HTTPS 필수 사용**
- 짧은 세션 타임아웃
- 강력한 비밀번호 정책
- 실패 시도 제한

## 12.7 실무 적용

### 적합한 경우
- 내부 시스템
- 개발/테스트 환경
- HTTPS와 함께 사용 시

### 부적합한 경우
- 공개 웹 서비스
- 민감한 데이터 처리
- 높은 보안 요구사항

## 12.8 대안
- **Digest 인증**: 해시 사용, nonce로 재전송 방지
- **OAuth 2.0**: 토큰 기반, 제3자 인증
- **JWT**: 자체 포함 토큰, 상태 없는 인증

## 12.9 핵심 정리
- 가장 단순한 HTTP 인증 방식
- Base64는 암호화가 아님 (HTTPS 필수)
- 프로덕션에서는 더 안전한 방식 권장

## 참고 자료
- HTTP 완벽 분석 12장
- RFC 7617